DECLARE
CURSOR C1 IS SELECT ENAME,DNAME,SAL FROM EMP E , DEPT D where E.DEPTNO=D.DEPTNO and SAL>2000;
NAME EMP.ENAME%TYPE;
NAMED DEPT.DNAME%TYPE;
salary EMP.SAL%TYPE;
TOT EMP.SAL%TYPE:=0;
BEGIN
OPEN C1;
LOOP
   FETCH C1 INTO NAME,NAMED,salary ;
   EXIT WHEN C1%NOTFOUND;
   TOT:= TOT+salary;
   DBMS_OUTPUT.PUT_LINE(TOT || NAME);
    DBMS_OUTPUT.new_LINE;
END LOOP;
CLOSE C1;
END;
/
